<!--
  Generated template for the DroneLockPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
 <ion-navbar >
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
  <ion-title>
    <p> Receive payment </p>
  </ion-title>
 </ion-navbar>
</ion-header>


<ion-content padding>

  <ion-list  inset padding *ngIf="serverless" >
        <ion-item-divider class="roundedge" >
            <p> Accept money  </p>
        </ion-item-divider>
  <ion-item>

 <ion-label text-wrap> 
    <h2> Wallet balance: </h2> <h3>{{walletbalance.balance}} </h3>

    </ion-label>
        </ion-item>
        <ion-card>
 <ion-label text-wrap> 
    <h2> Wallet address: </h2> <h3> {{walletbalance.address}} </h3>
    </ion-label>
            <button item-right ion-button small class="colorbutton" (click)="copyaddress()">Copy address </button>


        </ion-card>

        <ion-card *ngIf="serverless" >
<qr-code *ngIf="serverless.receiveqrcode" id="qrcode" [value]="serverless.receivedqrcode" [size]="200" [canvas]="true"></qr-code>
            <button item-right ion-button small class="colorbutton" (click)="qrscan()">Scan QR </button>
        </ion-card>
        <ion-card *ngIf="serverless" >
        <ion-textarea type="text" [(ngModel)]="serverless.receivedstring" placeholder="Enter received string"></ion-textarea>
            <button item-right ion-button small (click)="pastestring()" class="colorbutton" >Paste string </button>
        </ion-card>

        <ion-card *ngIf="serverless" >
        <ion-input type="text" [(ngModel)]="serverless.receivedpincode" placeholder="Enter PIN code  "></ion-input>
            <button item-right ion-button small (click)="pastepincode()" class="colorbutton" >Paste PIN </button>

        </ion-card>
        <ion-card>
            <ion-label > Transacted amount: {{serverless.receivedamount}} </ion-label>
            <button item-right ion-button small (click)="receiveFund()" class="colorbutton" >Receive fund </button>
        </ion-card>
         <ion-item *ngIf="errordata.receivedmessage != ''" color="danger">
         {{errordata.receivedmessage}}
        </ion-item>

        <ion-card>
            <ion-label text-wrap> Received transaction-id : {{serverless.receivedtxid}}  </ion-label>
        </ion-card>

        <ion-item-divider class="roundedge" >
            <p> Wallet balance </p>
        </ion-item-divider>
        <ion-item>
            <ion-label > Balance : {{walletbalance.balance  }} </ion-label> 
        </ion-item>
        <ion-item>
            <ion-label > Unconfirmed payment :  {{walletbalance.unconfirmed_balance }} </ion-label> 
        </ion-item>
        <ion-item>
            <button item-right ion-button (click)="getWalletBalance()" class="colorbutton" >Check wallet balance </button>
        </ion-item >
   </ion-list>

</ion-content>
